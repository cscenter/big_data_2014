Домашнее задание №9
Шашкова Елизавета, CSC, 2014

---------------------------------
Репликация журнала протокола Raft
---------------------------------

Запуск:
Важное отличие: при запуске ведомого, с ключом -lp указывается порт лидера

Пример запуска ведущего в четвертом поколении с двумя ведомыми:
./myprogram -p 8000 -f 8081,8082 -l 1:H,1:E,1:L,2:L,3:O
-t 4

Пример запуска ведомого, застывшего в третьем поколении с неполным
журналом:
./myprogram -p 8001 -lp 8000 -l 1:H,1:E,1:L,2:L -t 3


Для запуска репликации нужно обратиться к лидеру по адресу /send_log

Реализация протокола
Ведущий по адресу 

/send_log запускает репликацию
	  отправляет текущую для данного ведомого запись + предыдущую запись + номер своего поколения
          эту запись мы будем искать в истории ведомого
/ok       принимает номер порта о завершении репликации для очередного ведомого
/prev     принимает номер порта, которому нужно отправить предыдущую пару записей
/suff     принимает номер порта и запись, начиная с которой ведомому нужно отправить суффикс лога лидера
          отправляет в формате: суффикс + текущее поколение лидера

Ведомый по адресу

/send_log принимает запись для поиска в своем логе, формат см. в Лидере
/full_log принимает полный лог от лидера (значит, наш совем плох): лог + текущее поколение лидера
/show_log показывает свой текущий лог
/suff     принимает суффикс от лидера в формате: суффикс + текущее поколение лидера


